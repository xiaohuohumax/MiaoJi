import{_ as f,B as N}from"./CLink.vue_vue_type_script_setup_true_lang-CNdXO93o.js";import{C as b}from"./CSubTitle-CmgzOeZW.js";import{e as g,d as k,aL as v,ah as u,an as p,am as e,al as s,ar as t,as as m,at as c,aq as C,au as w,ai as L,az as B,O as V,aj as x,aA as I}from"./index-CxY8spwR.js";import{a as h}from"../app.config.D_pCpokF.js";import{e as y}from"./_plugin-vue_export-helper-nDMbTP-M.js";import{N as T}from"./Thing-0_wEx6ku.js";import{N as q}from"./Image-DkgaKoPw.js";import{_ as z}from"./CLoadPages.vue_vue_type_script_setup_true_lang-CvwEzbuG.js";import{N as A,a as S}from"./Grid-C846L92q.js";import{N as $}from"./Space-mIpbSOwT.js";import"./Tooltip-D7K_ppUF.js";import"./Empty-YkuNE07o.js";const j=g({__name:"CLinkCard",props:{issue:{}},setup(d){const r=d,o=k(()=>{var a,i;const n={title:((a=r.issue.user)==null?void 0:a.login)||"Unknown",href:((i=r.issue.user)==null?void 0:i.html_url)||"#"};if(!r.issue.body)return n;const l=v.parseLinks(r.issue.body);return l.length===0?n:{title:l[0].content,href:l[0].href}});return(n,l)=>(u(),p(f,{href:o.value.href,target:"_blank"},{default:e(()=>[s(t(y),{size:"small",class:"hover:scale-[1.02] transition-transform duration-200 ease-in-out"},{default:e(()=>[s(t(T),null,{avatar:e(()=>{var a;return[s(t(q),{src:(a=n.issue.user)==null?void 0:a.avatar_url,class:"w-16 h-16 rounded-md"},null,8,["src"])]}),header:e(()=>[s(f,{href:o.value.href,target:"_blank"},{default:e(()=>[m(c(o.value.title),1)]),_:1},8,["href"])]),description:e(()=>[n.issue.user?(u(),p(f,{key:0,href:n.issue.user.html_url,target:"_blank"},{default:e(()=>[m(c(n.issue.user.login),1)]),_:1},8,["href"])):C("",!0)]),_:1})]),_:1})]),_:1},8,["href"]))}}),Q=g({__name:"VLink",setup(d){const{t:r}=w();async function o(l,a){const i=await I.page({page:l,per_page:a,labels:h.funcLabels.link});return{datas:i,hasNext:i.length===a}}const n=k(()=>encodeURI([h.repository,"/issues/new?title=",r("page.link.applyTitle"),"&body=",r("page.link.applyContent")].join("")));return(l,a)=>(u(),p(t($),{vertical:!0},{default:e(()=>[s(t(y),{size:"small"},{default:e(()=>[s(b,null,{default:e(()=>[m(c(t(r)("page.link.title")),1)]),_:1})]),_:1}),s(z,{"query-pages-func":o},{default:e(({datas:i})=>[s(t(A),{cols:"1 s:2 m:3 l:3 xl:4",responsive:"screen","x-gap":12,"y-gap":12},{default:e(()=>[(u(!0),L(V,null,B(i,_=>(u(),p(t(S),{key:_.number},{default:e(()=>[s(j,{issue:_},null,8,["issue"])]),_:2},1024))),128))]),_:2},1024),a[0]||(a[0]=x("div",{class:"mt-4"},null,-1))]),_:1}),s(f,{href:n.value,target:"_blank"},{default:e(()=>[s(t(N),{class:"w-full",secondary:"",type:"info"},{default:e(()=>[m(c(t(r)("page.link.toApply")),1)]),_:1})]),_:1},8,["href"])]),_:1}))}});export{Q as default};
