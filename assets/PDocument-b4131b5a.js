import{d as x,a as w,a9 as m,a8 as l,af as a,al as y,am as C,ax as N,ai as B,a6 as c,a4 as t,ad as s,ae as f,ag as _,a7 as D,ak as $,aw as q,F}from"./index-f2d47f63.js";import{w as L,c as r,d as S}from"./loading-8758b90e.js";import{_ as T}from"./CLabel.vue_vue_type_script_setup_true_lang-f10c2268.js";import{C as V}from"./CMarkdown-bb6f50f1.js";import{N as p,_ as z}from"./CReactions.vue_vue_type_script_setup_true_lang-6c2b3023.js";import{_ as I}from"./CComments.vue_vue_type_script_setup_true_lang-9aec1381.js";import{N as v}from"./Card-27a8e976.js";import"../app.config.js";import"./use-locale-c8479f91.js";import"./COver-ad4c1e72.js";const A={class:"text-2xl font-bold align-middle"},E=["href"],W=x({__name:"PDocument",props:{id:{}},setup(b){const g=b,e=w(null),n=L({state:"loading",fail:"文章查询失败!"});async function d(){n.value="loading";const[o,u]=await y(C.qIssueById(g.id));if(o||u==null){n.value="fail";return}e.value=u,n.value="success",N({after:e.value.title})}d();const h=B();function k(o){h.push({path:"/",query:{label:o.name}})}return(o,u)=>(c(),m(a(S),{state:a(n)},{fail:l(()=>[t(a(v),{size:"small",bordered:!1},{default:l(()=>[s("button",{class:"p-2 w-full font-bold",onClick:d}," 重新加载 ")]),_:1})]),default:l(()=>[t(a(r),{vertical:""},{default:l(()=>[t(a(v),{size:"small",bordered:!1},{default:l(()=>[t(a(r),{class:"text-sm relative",vertical:""},{default:l(()=>[s("p",A,f(e.value.title),1),t(a(r),null,{default:l(()=>[s("a",{target:"_blank",href:e.value.user.html_url},[s("span",null,f(e.value.user.login),1)],8,E),s("span",null,[_(" 创建于: "),t(a(p),{time:new Date(e.value.created_at)},null,8,["time"])]),s("span",null,[_(" 更新于: "),t(a(p),{time:new Date(e.value.updated_at),type:"relative"},null,8,["time"])])]),_:1}),t(a(r),{align:"center"},{default:l(()=>[(c(!0),D(F,null,$(a(q)(e.value.labels),i=>(c(),m(T,{key:i.id,"hidden-des":!0,onClick:H=>k(i),label:i,class:"font-bold"},null,8,["onClick","label"]))),128)),t(z,{reactions:e.value.reactions},null,8,["reactions"])]),_:1}),t(V,{text:e.value.body,id:e.value.number},null,8,["text","id"])]),_:1})]),_:1}),t(I,{issue:e.value,name:"评论"},null,8,["issue"])]),_:1})]),_:1},8,["state"]))}});export{W as default};
