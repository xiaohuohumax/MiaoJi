import{w as k,c as u,d as x}from"./loading-fb142471.js";import{d as y,a as w,a9 as d,a8 as l,af as a,al as C,am as $,aA as B,ax as I,a6 as o,a4 as e,ad as r,ae as f,ag as D,a7 as p,ak as _,aw as q,F as v}from"./index-e356217c.js";import{_ as F}from"./CLabel.vue_vue_type_script_setup_true_lang-2883f630.js";import{N as g,_ as L}from"./CReactions.vue_vue_type_script_setup_true_lang-bcd65140.js";import{_ as P}from"./CComments.vue_vue_type_script_setup_true_lang-41700e0c.js";import{N as h}from"./Card-5655ee7b.js";import{N as S,a as T}from"./Grid-524587fd.js";import{N as V}from"./Image-dbc5675c.js";import"../app.config.js";import"./use-locale-4b393f32.js";import"./COver-5801d771.js";import"./CMarkdown-ae279578.js";import"./VResizeObserver-47dafdf5.js";import"./Popover-7ddbe0d2.js";const z={class:"text-2xl font-bold align-middle"},A=["href"],aa=y({__name:"PPhotoDetails",props:{id:{}},setup(N){const b=N,t=w(null),n=k({state:"loading",fail:"文章查询失败!"});async function m(){n.value="loading";const[c,i]=await C($.qIssueById(b.id));if(c||i==null){n.value="fail";return}t.value={...i,images:B(i.body)},n.value="success",I({after:t.value.title})}return m(),(c,i)=>(o(),d(a(x),{state:a(n)},{fail:l(()=>[e(a(h),{size:"small",bordered:!1},{default:l(()=>[r("button",{class:"p-2 w-full font-bold",onClick:m}," 重新加载 ")]),_:1})]),default:l(()=>[e(a(u),{vertical:""},{default:l(()=>[e(a(h),{size:"small",bordered:!1},{default:l(()=>[e(a(u),{class:"text-sm relative",vertical:""},{default:l(()=>[r("p",z,f(t.value.title),1),e(a(u),null,{default:l(()=>[r("a",{target:"_blank",href:t.value.user.html_url},[r("span",null,f(t.value.user.login),1)],8,A),r("span",null,[e(a(g),{time:new Date(t.value.created_at)},null,8,["time"])]),r("span",null,[e(a(g),{time:new Date(t.value.updated_at),type:"relative"},null,8,["time"]),D("更新 ")])]),_:1}),e(a(u),{align:"center"},{default:l(()=>[(o(!0),p(v,null,_(a(q)(t.value.labels),s=>(o(),d(F,{key:s.id,"hidden-des":!0,onClick:G=>c.$router.push({path:"/",query:{label:s.name}}),label:s,class:"font-bold"},null,8,["onClick","label"]))),128)),e(L,{reactions:t.value.reactions},null,8,["reactions"])]),_:1}),e(a(S),{cols:"1 s:2 m:3 l:4 xl:5 2xl:6",responsive:"screen","x-gap":8},{default:l(()=>[(o(!0),p(v,null,_(t.value.images,s=>(o(),d(a(T),{key:s.src},{default:l(()=>[e(a(V),{class:"rounded-md",src:s.src,alt:s.alt},null,8,["src","alt"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(P,{issue:t.value,name:"评论"},null,8,["issue"])]),_:1})]),_:1},8,["state"]))}});export{aa as default};
