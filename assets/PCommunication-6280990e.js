import{w as f,N as _,c as u,d}from"./loading-fb142471.js";import{C as p}from"./COver-5801d771.js";import{_ as v}from"./CSubTitle.vue_vue_type_script_setup_true_lang-a2d65008.js";import{d as C,a as x,a9 as i,a8 as t,af as a,al as N,am as b,a6 as l,ad as g,a4 as s,ag as m}from"./index-e356217c.js";import{C as k}from"./CMarkdown-ae279578.js";import{_ as w}from"./CReactions.vue_vue_type_script_setup_true_lang-bcd65140.js";import{a as y}from"../app.config.js";import{_ as h}from"./CComments.vue_vue_type_script_setup_true_lang-41700e0c.js";import{N as B}from"./Card-5655ee7b.js";import"./use-locale-4b393f32.js";const $={class:"text-center"},j=C({__name:"PCommunication",setup(V){const e=x(null),o=f({state:"init",fail:"留言查询失败!"});async function n(){o.value="loading";const[r,c]=await N(b.qIssuePage({labels:y.label.communicationLabel,per_page:"1",state:"all"}));if(r){o.value="fail";return}e.value=c[0],o.value="success"}return n(),(r,c)=>(l(),i(a(d),{state:a(o)},{fail:t(()=>[g("div",$,[s(a(_),{onClick:n,class:"mx-auto"},{default:t(()=>[m(" 重试 ")]),_:1})])]),default:t(()=>[e.value?(l(),i(a(u),{key:1,vertical:""},{default:t(()=>[s(a(v),{context:e.value.title},null,8,["context"]),s(a(B),{bordered:!1,size:"small"},{default:t(()=>[s(a(u),{vertical:"",size:"small"},{default:t(()=>[s(k,{text:e.value.body,id:e.value.number},null,8,["text","id"]),s(w,{reactions:e.value.reactions},null,8,["reactions"])]),_:1})]),_:1}),s(h,{issue:e.value,name:"留言"},null,8,["issue"])]),_:1})):(l(),i(a(p),{key:0},{default:t(()=>[m('未指定"留言"页')]),_:1}))]),_:1},8,["state"]))}});export{j as default};
