import{_ as i,B as N}from"./CLink.vue_vue_type_script_setup_true_lang-D9lmZ61M.js";import{C as b}from"./CSubTitle-DcicpHZ0.js";import{e as g,ag as l,am as f,al as e,ak as r,aq as t,ar as p,as as m,ap as C,at as v,d as w,ah as L,ay as B,O as I,az as T,aJ as V,aO as q,m as F}from"./index-Bwq5MEXp.js";import{a as _}from"../app.config.aGxtwYiP.js";import{N as S}from"./Thing-BAqXHXx8.js";import{N as $}from"./Image-B4hZPXIT.js";import{_ as x}from"./CLoadPages.vue_vue_type_script_setup_true_lang-DlIbzpFG.js";import{N as A,a as G}from"./Grid-__oRflk4.js";import{N as h}from"./Space-BVa_0GKn.js";import{N as O}from"./_plugin-vue_export-helper-CHINyzN0.js";import"./Tooltip-Doll0b94.js";import"./Empty-DNsO3Sga.js";const R=g({__name:"CLinkCard",props:{title:{},href:{},issue:{}},setup(k){return(a,d)=>(l(),f(i,{href:a.href,target:"_blank"},{default:e(()=>[r(t(S),null,{avatar:e(()=>{var o;return[r(t($),{src:(o=a.issue.user)==null?void 0:o.avatar_url,class:"w-16 h-16 rounded-md"},null,8,["src"])]}),header:e(()=>[r(i,{href:a.href,target:"_blank"},{default:e(()=>[p(m(a.title),1)]),_:1},8,["href"])]),description:e(()=>[a.issue.user?(l(),f(i,{key:0,href:a.issue.user.html_url,target:"_blank"},{default:e(()=>[p(m(a.issue.user.login),1)]),_:1},8,["href"])):C("",!0)]),_:1})]),_:1},8,["href"]))}}),X=g({__name:"VLink",setup(k){const{t:a}=v();async function d(u,n){const s=await T.page({page:u,per_page:n,labels:_.funcLabels.link});return{datas:s,hasNext:s.length===n}}function o(u){return u.map(n=>{if(!n.body)return null;const s=V.parseLinks(n.body);return s.length===0?null:{title:s[0].content,href:s[0].href,issue:n}}).filter(q.filterNullFunc)}const y=w(()=>[_.repository,"/issues/new?title=",encodeURIComponent(a("page.link.applyTitle")),"&body=",encodeURIComponent(a("page.link.applyContent"))].join(""));return(u,n)=>(l(),f(t(h),{vertical:!0},{default:e(()=>[r(t(O),{bordered:!1},{default:e(()=>[r(t(h),{vertical:!0},{default:e(()=>[r(b,null,{default:e(()=>[p(m(t(a)("page.link.title")),1)]),_:1}),r(x,{"query-pages-func":d},{default:e(({datas:s})=>[r(t(A),{cols:"1 s:2 m:3 l:4 xl:5 2xl:6",responsive:"screen","x-gap":12,"y-gap":12},{default:e(()=>[(l(!0),L(I,null,B(o(s),c=>(l(),f(t(G),{key:c.issue.number},{default:e(()=>[r(R,F({ref_for:!0},c),null,16)]),_:2},1024))),128))]),_:2},1024)]),_:1}),r(i,{href:y.value,target:"_blank"},{default:e(()=>[r(t(N),{class:"w-full",secondary:"",type:"info"},{default:e(()=>[p(m(t(a)("page.link.toApply")),1)]),_:1})]),_:1},8,["href"])]),_:1})]),_:1})]),_:1}))}});export{X as default};
