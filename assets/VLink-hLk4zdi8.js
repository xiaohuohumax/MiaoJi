import{_ as i,B as N}from"./CLink.vue_vue_type_script_setup_true_lang--A8F9w0-.js";import{_ as b}from"./CSubTitle.vue_vue_type_script_setup_true_lang-CYirVgLU.js";import{e as g,ag as l,am as f,al as e,ak as r,aq as t,ar as p,as as m,ap as C,at as v,d as w,ah as L,ay as B,O as I,az as q,aJ as T,aO as V,m as $}from"./index-lt-l7Tnr.js";import{a as _}from"../app.config.DI_w5fK8.js";import{N as F}from"./Thing-paU6hgLe.js";import{N as x}from"./Image-D9lo5Md_.js";import{_ as A}from"./CLoadPages.vue_vue_type_script_setup_true_lang-DSy5jWdm.js";import{N as G,a as O}from"./Grid-6_Uklm8i.js";import{N as h}from"./Space-DuAUTwAB.js";import{N as R}from"./Card-CMrKoQ_M.js";import"./Tooltip-XsXUaGdI.js";import"./Empty-DgfOa8Du.js";const S=g({__name:"CLinkCard",props:{title:{},href:{},issue:{}},setup(k){return(a,c)=>(l(),f(i,{href:a.href,target:"_blank"},{default:e(()=>[r(t(F),null,{avatar:e(()=>{var o;return[r(t(x),{src:(o=a.issue.user)==null?void 0:o.avatar_url,class:"w-16 h-16 rounded-md"},null,8,["src"])]}),header:e(()=>[r(i,{href:a.href,target:"_blank"},{default:e(()=>[p(m(a.title),1)]),_:1},8,["href"])]),description:e(()=>[a.issue.user?(l(),f(i,{key:0,href:a.issue.user.html_url,target:"_blank"},{default:e(()=>[p(m(a.issue.user.login),1)]),_:1},8,["href"])):C("",!0)]),_:1})]),_:1},8,["href"]))}}),X=g({__name:"VLink",setup(k){const{t:a}=v();async function c(u,n){const s=await q.page({page:u,per_page:n,labels:_.funcLabels.link});return{datas:s,hasNext:s.length===n}}function o(u){return u.map(n=>{if(!n.body)return null;const s=T.parseLinks(n.body);return s.length===0?null:{title:s[0].content,href:s[0].href,issue:n}}).filter(V.filterNullFunc)}const y=w(()=>[_.repository,"/issues/new?title=",encodeURIComponent(a("page.link.applyTitle")),"&body=",encodeURIComponent(a("page.link.applyContent"))].join(""));return(u,n)=>(l(),f(t(h),{vertical:!0},{default:e(()=>[r(t(R),{bordered:!1},{default:e(()=>[r(t(h),{vertical:!0},{default:e(()=>[r(b,{title:t(a)("page.link.title")},null,8,["title"]),r(A,{"query-pages-func":c},{default:e(({datas:s})=>[r(t(G),{cols:"1 s:2 m:3 l:4 xl:5 2xl:6",responsive:"screen","x-gap":12,"y-gap":12},{default:e(()=>[(l(!0),L(I,null,B(o(s),d=>(l(),f(t(O),{key:d.issue.number},{default:e(()=>[r(S,$({ref_for:!0},d),null,16)]),_:2},1024))),128))]),_:2},1024)]),_:1}),r(i,{href:y.value,target:"_blank"},{default:e(()=>[r(t(N),{class:"w-full",quaternary:""},{default:e(()=>[p(m(t(a)("page.link.toApply")),1)]),_:1})]),_:1},8,["href"])]),_:1})]),_:1})]),_:1}))}});export{X as default};
