import{d as k,ah as v,a7 as i,a4 as e,a8 as s,af as a,F as u,ai as x,a6 as r,Z as C,_ as N,ak as g,ad as d,ag as f,al as w,a9 as L}from"./index-f2d47f63.js";import{w as b,c as m,N as _,d as B}from"./loading-8758b90e.js";import{C as S}from"./COver-ad4c1e72.js";import{_ as y}from"./CSubTitle.vue_vue_type_script_setup_true_lang-dc9e79c0.js";import{_ as F}from"./CLabel.vue_vue_type_script_setup_true_lang-f10c2268.js";import{N as $}from"./Card-27a8e976.js";import"../app.config.js";const V={class:"text-center"},q={class:"text-center"},j=k({__name:"PLabel",setup(z){const o=v(),p=x(),c=b({state:"success",fail:"标签刷新失败!",success:"标签刷新成功!"});async function l(){c.value="loading";const[t]=await w(o.loadLabels(1));c.value=t?"fail":"success"}function h(t){p.push({path:"/",query:{label:t.name}})}return(t,A)=>(r(),i(u,null,[e(a(m),{vertical:""},{default:s(()=>[e(a(y),{context:"标签"}),C(e(a($),{size:"small",bordered:!1},{default:s(()=>[e(a(m),null,{default:s(()=>[(r(!0),i(u,null,g(a(o).notFuncLabels,n=>(r(),L(F,{class:"truncate",label:n,"hidden-des":!1,key:n.name,onClick:D=>h(n)},null,8,["label","onClick"]))),128))]),_:1})]),_:1},512),[[N,a(o).notFuncLabels.length>0]]),e(a(S))]),_:1}),e(a(B),{state:a(c),class:"my-2"},{fail:s(()=>[d("div",V,[e(a(_),{onClick:l,class:"mx-auto"},{default:s(()=>[f(" 重试 ")]),_:1})])]),default:s(()=>[d("div",q,[e(a(_),{onClick:l,class:"mx-auto"},{default:s(()=>[f(" 刷新 ")]),_:1})])]),_:1},8,["state"])],64))}});export{j as default};
