import{C as h}from"./CSubTitle-DcicpHZ0.js";import{e as _,aj as y,ag as n,am as u,al as s,ak as e,aq as a,ai as d,as as m,ar as g,aA as k,at as C,ah as v,ay as A,O as I,az as w,aJ as z,aO as B,m as L}from"./index-Bwq5MEXp.js";import{a as T}from"../app.config.aGxtwYiP.js";import{N as V,I as $,_ as q}from"./CLink.vue_vue_type_script_setup_true_lang-D9lmZ61M.js";import{_ as D}from"./CReactions.vue_vue_type_script_setup_true_lang-Cj22IlZ8.js";import{N}from"./_plugin-vue_export-helper-CHINyzN0.js";import{N as F}from"./Image-B4hZPXIT.js";import{N as p}from"./Space-BVa_0GKn.js";import{N as R}from"./Time-CKwwyGyZ.js";import{_ as S}from"./CLoadPages.vue_vue_type_script_setup_true_lang-DlIbzpFG.js";import{N as G,a as O}from"./Grid-__oRflk4.js";import"./Tag-CaA0DMet.js";import"./Tooltip-Doll0b94.js";import"./Empty-DNsO3Sga.js";const j={class:"text-center p-2"},x={class:"text-lg"},E=_({__name:"CAlbumCard",props:{images:{},issue:{}},setup(b){return(t,f)=>{const o=y("RouterLink");return n(),u(o,{to:{name:a(k).AlbumDetail,params:{id:t.issue.number}}},{default:s(()=>[e(a(N),{size:"small",bordered:!1},{default:s(()=>[e(a(F),{src:t.images[0].src,alt:t.images[0].alt,"preview-disabled":!0,lazy:""},{placeholder:s(()=>[d("div",j,[e(a(V),{size:"30"},{default:s(()=>[e(a($),{class:"animate-spin inline-block"})]),_:1})])]),_:1},8,["src","alt"]),e(a(p),{vertical:"",size:"small"},{default:s(()=>[d("div",x,m(t.issue.title),1),e(a(p),null,{default:s(()=>{var l;return[e(q,{href:(l=t.issue.user)==null?void 0:l.html_url,target:"_blank"},{default:s(()=>{var r;return[g(m((r=t.issue.user)==null?void 0:r.login),1)]}),_:1},8,["href"]),e(a(R),{time:new Date(t.issue.updated_at),type:"relative"},null,8,["time"])]}),_:1}),e(D,{reaction:t.issue.reactions,"issue-url":t.issue.html_url},null,8,["reaction","issue-url"])]),_:1})]),_:1})]),_:1},8,["to"])}}}),te=_({__name:"VAlbum",setup(b){const{t}=C();async function f(l,r){const i=await w.page({page:l,per_page:r,labels:T.funcLabels.album});return{datas:i,hasNext:i.length===r}}function o(l){return l.map(r=>{if(!r.body)return null;const i=z.parseImages(r.body);return i.length===0?null:{images:i,issue:r}}).filter(B.filterNullFunc)}return(l,r)=>(n(),u(a(N),{bordered:!1},{default:s(()=>[e(a(p),{vertical:!0},{default:s(()=>[e(h,null,{default:s(()=>[g(m(a(t)("page.album.title")),1)]),_:1}),e(S,{"query-pages-func":f},{default:s(({datas:i})=>[e(a(G),{cols:"1 s:2 m:3 l:3 xl:4",responsive:"screen","x-gap":12,"y-gap":12},{default:s(()=>[(n(!0),v(I,null,A(o(i),c=>(n(),u(a(O),{key:c.issue.number},{default:s(()=>[e(E,L({ref_for:!0},c),null,16)]),_:2},1024))),128))]),_:2},1024)]),_:1})]),_:1})]),_:1}))}});export{te as default};
