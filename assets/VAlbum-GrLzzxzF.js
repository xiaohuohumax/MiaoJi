import{C as b}from"./CSubTitle-pffntytk.js";import{e as f,aj as h,ag as n,am as u,al as e,ak as a,aq as s,ai as c,as as d,aA as y,at as k,ar as C,ah as v,ay as A,O as I,az as w,aJ as x,aO as z,m as B}from"./index-hgVmP53t.js";import{a as L}from"../app.config.DHJUAgkF.js";import{N as V,I as q}from"./CLink.vue_vue_type_script_setup_true_lang-CBIeQepy.js";import{_ as F}from"./CReactions.vue_vue_type_script_setup_true_lang-BGncmMuX.js";import{N as _}from"./_plugin-vue_export-helper-CERT5aKp.js";import{N as R}from"./Image-BSxvxIvP.js";import{N as g}from"./Space-CIlk5P2J.js";import{_ as S}from"./CLoadPages.vue_vue_type_script_setup_true_lang-C0JCJMbj.js";import{N as T,a as $}from"./Grid-w27G3hVY.js";import"./Tag-G4EAI3Uq.js";import"./Tooltip-D8XcUtLv.js";import"./Empty-D189VURL.js";const D={class:"text-center p-2"},G={class:"text-lg"},O=f({__name:"CAlbumCard",props:{images:{},issue:{}},setup(N){return(r,m)=>{const i=h("RouterLink");return n(),u(i,{to:{name:s(y).AlbumDetail,params:{id:r.issue.number}}},{default:e(()=>[a(s(_),{size:"small",bordered:!1},{default:e(()=>[a(s(R),{src:r.images[0].src,alt:r.images[0].alt,"preview-disabled":!0,lazy:""},{placeholder:e(()=>[c("div",D,[a(s(V),{size:"30"},{default:e(()=>[a(s(q),{class:"animate-spin inline-block"})]),_:1})])]),_:1},8,["src","alt"]),a(s(g),{vertical:""},{default:e(()=>[c("div",G,d(r.issue.title),1),a(F,{reaction:r.issue.reactions,"issue-url":r.issue.html_url},null,8,["reaction","issue-url"])]),_:1})]),_:1})]),_:1},8,["to"])}}}),ee=f({__name:"VAlbum",setup(N){const{t:r}=k();async function m(l,t){const o=await w.page({page:l,per_page:t,labels:L.funcLabels.album});return{datas:o,hasNext:o.length===t}}function i(l){return l.map(t=>{if(!t.body)return null;const o=x.parseImages(t.body);return o.length===0?null:{images:o,issue:t}}).filter(z.filterNullFunc)}return(l,t)=>(n(),u(s(_),{bordered:!1},{default:e(()=>[a(s(g),{vertical:!0},{default:e(()=>[a(b,null,{default:e(()=>[C(d(s(r)("page.album.title")),1)]),_:1}),a(S,{"query-pages-func":m},{default:e(({datas:o})=>[a(s(T),{cols:"1 s:2 m:3 l:3 xl:4",responsive:"screen","x-gap":12,"y-gap":12},{default:e(()=>[(n(!0),v(I,null,A(i(o),p=>(n(),u(s($),{key:p.issue.number},{default:e(()=>[a(O,B({ref_for:!0},p),null,16)]),_:2},1024))),128))]),_:2},1024)]),_:1})]),_:1})]),_:1}))}});export{ee as default};
