import{_ as f,B as N}from"./CLink.vue_vue_type_script_setup_true_lang-ZMawmrFq.js";import{C as b}from"./CSubTitle-DB9RCy18.js";import{e as k,d as g,aN as v,ai as u,ap as p,ao as e,an as s,at as t,au as m,av as c,as as C,aw as w,aj as B,aB as L,O as V,ak as x,aC as I}from"./index-8Nduy9rO.js";import{a as h}from"../app.config.DbvFL-si.js";import{e as y}from"./_plugin-vue_export-helper-NmBTaXtx.js";import{N as T}from"./Thing-D4eo5_FA.js";import{N as S}from"./Image-BVRwZqqM.js";import{_ as $}from"./CLoadPages.vue_vue_type_script_setup_true_lang-D7ZHO-pn.js";import{N as j,a as q}from"./Grid-CzlK23E2.js";import{N as z}from"./Space-DmT7jGdB.js";import"./Tooltip-7tclQiV3.js";import"./Empty-Bvz1bHPu.js";const A=k({__name:"CLinkCard",props:{issue:{}},setup(d){const r=d,i=g(()=>{var a,o;const n={title:((a=r.issue.user)==null?void 0:a.login)||"Unknown",href:((o=r.issue.user)==null?void 0:o.html_url)||"#"};if(!r.issue.body)return n;const l=v.parseLinks(r.issue.body);return l.length===0?n:{title:l[0].content,href:l[0].href}});return(n,l)=>(u(),p(f,{href:i.value.href,target:"_blank"},{default:e(()=>[s(t(y),{size:"small",class:"hover:scale-[1.02] transition-transform duration-200 ease-in-out"},{default:e(()=>[s(t(T),null,{avatar:e(()=>{var a;return[s(t(S),{src:(a=n.issue.user)==null?void 0:a.avatar_url,class:"w-16 h-16 rounded-md"},null,8,["src"])]}),header:e(()=>[s(f,{href:i.value.href,target:"_blank"},{default:e(()=>[m(c(i.value.title),1)]),_:1},8,["href"])]),description:e(()=>[n.issue.user?(u(),p(f,{key:0,href:n.issue.user.html_url,target:"_blank"},{default:e(()=>[m(c(n.issue.user.login),1)]),_:1},8,["href"])):C("",!0)]),_:1})]),_:1})]),_:1},8,["href"]))}}),Q=k({__name:"VLink",setup(d){const{t:r}=w();async function i(l,a){const o=await I.page({page:l,per_page:a,labels:h.funcLabels.link});return{datas:o,hasNext:o.length===a}}const n=g(()=>encodeURI([h.repository,"/issues/new?title=",r("page.link.applyTitle"),"&body=",r("page.link.applyContent")].join("")));return(l,a)=>(u(),p(t(z),{vertical:!0},{default:e(()=>[s(t(y),{size:"small"},{default:e(()=>[s(b,null,{default:e(()=>[m(c(t(r)("page.link.title")),1)]),_:1})]),_:1}),s($,{"query-pages-func":i},{default:e(({datas:o})=>[s(t(j),{cols:"1 s:2 m:3 l:3 xl:4",responsive:"screen","x-gap":12,"y-gap":12},{default:e(()=>[(u(!0),B(V,null,L(o,_=>(u(),p(t(q),{key:_.number},{default:e(()=>[s(A,{issue:_},null,8,["issue"])]),_:2},1024))),128))]),_:2},1024),a[0]||(a[0]=x("div",{class:"mt-4"},null,-1))]),_:1}),s(f,{href:n.value,target:"_blank"},{default:e(()=>[s(t(N),{class:"w-full",secondary:"",type:"info"},{default:e(()=>[m(c(t(r)("page.link.toApply")),1)]),_:1})]),_:1},8,["href"])]),_:1}))}});export{Q as default};
