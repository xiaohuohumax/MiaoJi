import{w as f,N as _,_ as d}from"./loading-aba46111.js";import{_ as g}from"./COver.vue_vue_type_script_setup_true_lang-ad340878.js";import{_ as v}from"./CSubTitle.vue_vue_type_script_setup_true_lang-dbae11c4.js";import{C as x}from"./CMarkdown-50e9d5bf.js";import{d as b,ah as C,ai as h,a as N,a9 as i,a8 as s,af as a,am as k,an as y,a6 as c,ad as w,a4 as t,ag as S,ae as $}from"./index-bab370b4.js";import{_ as B}from"./CReactions.vue_vue_type_script_setup_true_lang-b9f92b05.js";import{a as L}from"../app.config.js";import{_ as P}from"./CComments.vue_vue_type_script_setup_true_lang-acb36a0f.js";import{j as u,N as V}from"./Space-7508ea39.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./use-locale-80627af6.js";const q={class:"text-center"},K=b({__name:"PCommunication",setup(z){const{t:e}=C(),p=h(),o=N(null),n=f({state:"init",fail:()=>e("component.cLoading.fail",{name:e("page.communication.subtitle")})});async function l(){n.value="loading";const[m,r]=await k(y.qIssuePage({labels:L.label.communicationLabel,per_page:"1",state:"all"}));if(m){n.value="fail";return}o.value=r.data[0],n.value="success"}return l(),(m,r)=>(c(),i(a(d),{state:a(n)},{fail:s(()=>[w("div",q,[t(a(_),{onClick:l,class:"mx-auto"},{default:s(()=>[S($(a(e)("comment.button.retry")),1)]),_:1})])]),default:s(()=>[o.value?(c(),i(a(u),{key:1,vertical:""},{default:s(()=>[t(a(v),{context:a(e)("page.communication.subtitle")},null,8,["context"]),t(a(V),{bordered:!1,size:"small"},{default:s(()=>[t(a(u),{vertical:"",size:"small"},{default:s(()=>[t(a(x),{text:o.value.body,id:o.value.number,theme:a(p).theme.markdown},null,8,["text","id","theme"]),t(B,{reactions:o.value.reactions},null,8,["reactions"])]),_:1})]),_:1}),t(P,{issue:o.value,title:a(e)("page.communication.subtitle")},null,8,["issue","title"])]),_:1})):(c(),i(a(g),{key:0,context:a(e)("page.communication.noPageTip")},null,8,["context"]))]),_:1},8,["state"]))}});export{K as default};
