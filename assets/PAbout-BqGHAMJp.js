import{w as b,B as x,_ as g}from"./loading-B7CF2kwk.js";import{_ as h}from"./COver.vue_vue_type_script_setup_true_lang-C4dpfn6V.js";import{_ as w}from"./CSubTitle.vue_vue_type_script_setup_true_lang-xn7Zziks.js";import{C as y}from"./CMarkdown-CJUxR0mz.js";import{d as N,aq as k,ar as C,a as A,ai as l,ah as o,ao as a,aw as B,ax as S,af as i,am as r,ad as e,ap as u,an as m}from"./index-BTjIPu72.js";import{N as d,_ as $}from"./CReactions.vue_vue_type_script_setup_true_lang-CbpDxAGq.js";import{a as T}from"../app.config.BqbS9028.js";import{_ as q}from"./CComments.vue_vue_type_script_setup_true_lang-TtqSYaSZ.js";import{h as c,N as D}from"./Space-Dwyrx8eU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-locale-CmRwvaf0.js";const I={class:"text-center"},O=N({__name:"PAbout",setup(L){const{t:s}=k(),v=C(),t=A(null),n=b({state:"loading",fail:()=>s("component.cLoading.fail",{name:""})});async function p(){n.value="loading";const[f,_]=await B(S.qIssuePage({labels:T.label.aboutLabel,per_page:"1",state:"all"}));if(f){n.value="fail";return}t.value=_.data[0],n.value="success"}return p(),(f,_)=>(i(),l(a(g),{state:a(n)},{fail:o(()=>[r("div",I,[e(a(x),{onClick:p,class:"mx-auto"},{default:o(()=>[u(m(a(s)("comment.button.retry")),1)]),_:1})])]),default:o(()=>[t.value?(i(),l(a(c),{key:1,vertical:""},{default:o(()=>[e(a(w),{context:a(s)("page.about.subtitle")},null,8,["context"]),e(a(D),{size:"small",bordered:!1},{default:o(()=>[e(a(c),{vertical:""},{default:o(()=>[e(a(y),{text:t.value.body,id:t.value.number,theme:a(v).theme.markdown},null,8,["text","id","theme"]),e(a(c),null,{default:o(()=>[r("span",null,[u(m(a(s)("comment.span.createAt"))+": ",1),e(a(d),{time:new Date(t.value.created_at)},null,8,["time"])]),r("span",null,[u(m(a(s)("comment.span.updateAt"))+": ",1),e(a(d),{time:new Date(t.value.updated_at),type:"relative"},null,8,["time"])]),e($,{reactions:t.value.reactions},null,8,["reactions"])]),_:1})]),_:1})]),_:1}),e(q,{issue:t.value,title:a(s)("page.about.commentsTitle")},null,8,["issue","title"])]),_:1})):(i(),l(a(h),{key:0,context:a(s)("page.about.noPageTip")},null,8,["context"]))]),_:1},8,["state"]))}});export{O as default};
