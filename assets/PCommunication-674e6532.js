import{w as f,N as _,_ as d}from"./loading-9b344fc9.js";import{_ as x}from"./COver.vue_vue_type_script_setup_true_lang-9b70a3e2.js";import{_ as g}from"./CSubTitle.vue_vue_type_script_setup_true_lang-e1701e05.js";import{C as v}from"./CMarkdown-5b8cfa43.js";import{d as b,ap as h,aq as C,a as N,ai as i,ah as s,an as a,aw as k,ax as w,af as c,al as y,ad as t,ao as S,am as $}from"./index-084f3484.js";import{_ as B}from"./CReactions.vue_vue_type_script_setup_true_lang-19a6a89f.js";import{a as q}from"../app.config.js";import{_ as L}from"./CComments.vue_vue_type_script_setup_true_lang-422eef1f.js";import{h as u,N as P}from"./Space-c63ab80b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./use-locale-542e0027.js";const V={class:"text-center"},K=b({__name:"PCommunication",setup(z){const{t:e}=h(),p=C(),o=N(null),n=f({state:"init",fail:()=>e("component.cLoading.fail",{name:e("page.communication.subtitle")})});async function l(){n.value="loading";const[m,r]=await k(w.qIssuePage({labels:q.label.communicationLabel,per_page:"1",state:"all"}));if(m){n.value="fail";return}o.value=r.data[0],n.value="success"}return l(),(m,r)=>(c(),i(a(d),{state:a(n)},{fail:s(()=>[y("div",V,[t(a(_),{onClick:l,class:"mx-auto"},{default:s(()=>[S($(a(e)("comment.button.retry")),1)]),_:1})])]),default:s(()=>[o.value?(c(),i(a(u),{key:1,vertical:""},{default:s(()=>[t(a(g),{context:a(e)("page.communication.subtitle")},null,8,["context"]),t(a(P),{bordered:!1,size:"small"},{default:s(()=>[t(a(u),{vertical:"",size:"small"},{default:s(()=>[t(a(v),{text:o.value.body,id:o.value.number,theme:a(p).theme.markdown},null,8,["text","id","theme"]),t(B,{reactions:o.value.reactions},null,8,["reactions"])]),_:1})]),_:1}),t(L,{issue:o.value,title:a(e)("page.communication.subtitle")},null,8,["issue","title"])]),_:1})):(c(),i(a(x),{key:0,context:a(e)("page.communication.noPageTip")},null,8,["context"]))]),_:1},8,["state"]))}});export{K as default};
