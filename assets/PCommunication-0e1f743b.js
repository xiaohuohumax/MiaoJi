import{w as f,N as _,_ as d}from"./loading-59b51ff0.js";import{_ as g}from"./COver.vue_vue_type_script_setup_true_lang-e5cb7dd1.js";import{_ as v}from"./CSubTitle.vue_vue_type_script_setup_true_lang-da02394c.js";import{C as x}from"./CMarkdown-6b7555ed.js";import{d as b,ag as C,ah as h,a as N,a9 as i,a8 as s,ae as a,am as k,an as y,a6 as c,ac as w,a4 as t,af as S,ad as $}from"./index-efee6842.js";import{_ as B}from"./CReactions.vue_vue_type_script_setup_true_lang-78fd347e.js";import{a as L}from"../app.config.js";import{_ as P}from"./CComments.vue_vue_type_script_setup_true_lang-4c65a09b.js";import{j as u,N as V}from"./Space-6bdbf578.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./use-locale-73f1eb57.js";const q={class:"text-center"},K=b({__name:"PCommunication",setup(z){const{t:e}=C(),p=h(),o=N(null),n=f({state:"init",fail:()=>e("component.cLoading.fail",{name:e("page.communication.subtitle")})});async function l(){n.value="loading";const[m,r]=await k(y.qIssuePage({labels:L.label.communicationLabel,per_page:"1",state:"all"}));if(m){n.value="fail";return}o.value=r.data[0],n.value="success"}return l(),(m,r)=>(c(),i(a(d),{state:a(n)},{fail:s(()=>[w("div",q,[t(a(_),{onClick:l,class:"mx-auto"},{default:s(()=>[S($(a(e)("comment.button.retry")),1)]),_:1})])]),default:s(()=>[o.value?(c(),i(a(u),{key:1,vertical:""},{default:s(()=>[t(a(v),{context:a(e)("page.communication.subtitle")},null,8,["context"]),t(a(V),{bordered:!1,size:"small"},{default:s(()=>[t(a(u),{vertical:"",size:"small"},{default:s(()=>[t(a(x),{text:o.value.body,id:o.value.number,theme:a(p).theme.markdown},null,8,["text","id","theme"]),t(B,{reactions:o.value.reactions},null,8,["reactions"])]),_:1})]),_:1}),t(P,{issue:o.value,title:a(e)("page.communication.subtitle")},null,8,["issue","title"])]),_:1})):(c(),i(a(g),{key:0,context:a(e)("page.communication.noPageTip")},null,8,["context"]))]),_:1},8,["state"]))}});export{K as default};
