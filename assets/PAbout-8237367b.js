import{w as b,N as g,_ as x}from"./loading-aba46111.js";import{_ as N}from"./COver.vue_vue_type_script_setup_true_lang-ad340878.js";import{_ as h}from"./CSubTitle.vue_vue_type_script_setup_true_lang-dbae11c4.js";import{C as w}from"./CMarkdown-50e9d5bf.js";import{d as y,ah as k,ai as C,a as A,a9 as l,a8 as o,af as a,am as S,an as $,a6 as i,ad as r,a4 as e,ag as u,ae as m}from"./index-bab370b4.js";import{N as d,_ as B}from"./CReactions.vue_vue_type_script_setup_true_lang-b9f92b05.js";import{a as T}from"../app.config.js";import{_ as D}from"./CComments.vue_vue_type_script_setup_true_lang-acb36a0f.js";import{j as c,N as I}from"./Space-7508ea39.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./use-locale-80627af6.js";const L={class:"text-center"},O=y({__name:"PAbout",setup(P){const{t:s}=k(),v=C(),t=A(null),n=b({state:"loading",fail:()=>s("component.cLoading.fail",{name:""})});async function p(){n.value="loading";const[f,_]=await S($.qIssuePage({labels:T.label.aboutLabel,per_page:"1",state:"all"}));if(f){n.value="fail";return}t.value=_.data[0],n.value="success"}return p(),(f,_)=>(i(),l(a(x),{state:a(n)},{fail:o(()=>[r("div",L,[e(a(g),{onClick:p,class:"mx-auto"},{default:o(()=>[u(m(a(s)("comment.button.retry")),1)]),_:1})])]),default:o(()=>[t.value?(i(),l(a(c),{key:1,vertical:""},{default:o(()=>[e(a(h),{context:a(s)("page.about.subtitle")},null,8,["context"]),e(a(I),{size:"small",bordered:!1},{default:o(()=>[e(a(c),{vertical:""},{default:o(()=>[e(a(w),{text:t.value.body,id:t.value.number,theme:a(v).theme.markdown},null,8,["text","id","theme"]),e(a(c),null,{default:o(()=>[r("span",null,[u(m(a(s)("comment.span.createAt"))+": ",1),e(a(d),{time:new Date(t.value.created_at)},null,8,["time"])]),r("span",null,[u(m(a(s)("comment.span.updateAt"))+": ",1),e(a(d),{time:new Date(t.value.updated_at),type:"relative"},null,8,["time"])]),e(B,{reactions:t.value.reactions},null,8,["reactions"])]),_:1})]),_:1})]),_:1}),e(D,{issue:t.value,title:a(s)("page.about.commentsTitle")},null,8,["issue","title"])]),_:1})):(i(),l(a(N),{key:0,context:a(s)("page.about.noPageTip")},null,8,["context"]))]),_:1},8,["state"]))}});export{O as default};
