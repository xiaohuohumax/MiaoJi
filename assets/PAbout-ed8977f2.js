import{w as b,N as g,_ as x}from"./loading-59b51ff0.js";import{_ as N}from"./COver.vue_vue_type_script_setup_true_lang-e5cb7dd1.js";import{_ as h}from"./CSubTitle.vue_vue_type_script_setup_true_lang-da02394c.js";import{C as w}from"./CMarkdown-6b7555ed.js";import{d as y,ag as k,ah as C,a as A,a9 as l,a8 as o,ae as a,am as S,an as $,a6 as i,ac as r,a4 as e,af as u,ad as m}from"./index-efee6842.js";import{N as d,_ as B}from"./CReactions.vue_vue_type_script_setup_true_lang-78fd347e.js";import{a as T}from"../app.config.js";import{_ as D}from"./CComments.vue_vue_type_script_setup_true_lang-4c65a09b.js";import{j as c,N as I}from"./Space-6bdbf578.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./use-locale-73f1eb57.js";const L={class:"text-center"},O=y({__name:"PAbout",setup(P){const{t:s}=k(),v=C(),t=A(null),n=b({state:"loading",fail:()=>s("component.cLoading.fail",{name:""})});async function p(){n.value="loading";const[f,_]=await S($.qIssuePage({labels:T.label.aboutLabel,per_page:"1",state:"all"}));if(f){n.value="fail";return}t.value=_.data[0],n.value="success"}return p(),(f,_)=>(i(),l(a(x),{state:a(n)},{fail:o(()=>[r("div",L,[e(a(g),{onClick:p,class:"mx-auto"},{default:o(()=>[u(m(a(s)("comment.button.retry")),1)]),_:1})])]),default:o(()=>[t.value?(i(),l(a(c),{key:1,vertical:""},{default:o(()=>[e(a(h),{context:a(s)("page.about.subtitle")},null,8,["context"]),e(a(I),{size:"small",bordered:!1},{default:o(()=>[e(a(c),{vertical:""},{default:o(()=>[e(a(w),{text:t.value.body,id:t.value.number,theme:a(v).theme.markdown},null,8,["text","id","theme"]),e(a(c),null,{default:o(()=>[r("span",null,[u(m(a(s)("comment.span.createAt"))+": ",1),e(a(d),{time:new Date(t.value.created_at)},null,8,["time"])]),r("span",null,[u(m(a(s)("comment.span.updateAt"))+": ",1),e(a(d),{time:new Date(t.value.updated_at),type:"relative"},null,8,["time"])]),e(B,{reactions:t.value.reactions},null,8,["reactions"])]),_:1})]),_:1})]),_:1}),e(D,{issue:t.value,title:a(s)("page.about.commentsTitle")},null,8,["issue","title"])]),_:1})):(i(),l(a(N),{key:0,context:a(s)("page.about.noPageTip")},null,8,["context"]))]),_:1},8,["state"]))}});export{O as default};
